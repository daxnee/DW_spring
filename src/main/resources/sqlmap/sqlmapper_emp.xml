<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.first_spring.mapper.EmpMapper">
	<select id="getEmpList" resultType="EmpVO"> <!--  resultType="EmpVO : 리턴타입이 EmpVO -->
		<!-- id : 메소드이름 -->
<!-- ctrl+space : 주석  --> 
<!-- MyBatis에게 Mapper 경로를 적어야 한다. -->
<!-- 대소문자 구분 안함. 대신 오타 주의 -->
		SELECT
			empno,
			ename,
			job
		FROM emp
	</select>
	
	<select id="getEmp" resultType="EmpVO">
	select
	ename,
	sal,
	empno
	from emp
	</select>
	
	<select id="SelectEmpSal" resultType="EmpVO">
	select
	*
	from emp
	where job = "SALESMAN" 
		and 
		sal >= #{sal}
	</select>
	
	<select id="selectEmpMaxSal" resultType="EmpVO">
	--  문제 3. 급여가 가장 높은 사원 조회
	select
	ENAME,
	sal 
	from (
		select 
			max(sal) as maxSal
			from emp
			where date_format(HIREDATE, '%m') = #{HIREDATE}
		)as e,
		emp
		where sal = e.maxSal
		and date_format(HIREDATE,'%m') = #{HIREDATE} 
	</select>
	
	<select id="selectEmpMax" resultType="EmpVO">
	select
	ENAME,
	sal
	from 
	emp
	where date_format(HIREDATE, '%m') = '12'
		
		
	</select>
</mapper>